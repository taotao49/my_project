(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0e60":function(t,e,n){"use strict";var o=n("5dc7"),s=n.n(o);s.a},"5dc7":function(t,e,n){},d537:function(t,e,n){"use strict";n.r(e),function(t){n("6cdc"),n("66fd");var e=n("f75a");wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e["a"])}.call(this,n("543d")["createPage"])},f75a:function(t,e,n){"use strict";var o,s=function(){var t=this,e=t.$createElement,n=(t._self._c,t.$check_action("/goods/list","get"));t.$mp.data=Object.assign({},{$root:{m0:n}})},i=[],l=n("dc88");function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c,a=function(){n.e("components/common/card").then(function(){return resolve(n("3616"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("components/diy/bar_title").then(function(){return resolve(n("a3ca"))}.bind(null,n)).catch(n.oe)},g=function(){Promise.all([n.e("common/vendor"),n.e("components/diy/list_menu")]).then(function(){return resolve(n("d457"))}.bind(null,n)).catch(n.oe)},d=function(){Promise.all([n.e("common/vendor"),n.e("components/diy/list_goods")]).then(function(){return resolve(n("1da7"))}.bind(null,n)).catch(n.oe)},_=function(){n.e("components/common/slide").then(function(){return resolve(n("9484"))}.bind(null,n)).catch(n.oe)},p=function(){n.e("components/common/notice").then(function(){return resolve(n("7f48"))}.bind(null,n)).catch(n.oe)},h={mixins:[l["a"]],components:{Card:a,bar_title:u,list_menu:g,list_goods:d,Slide:_,Notice:p},data:function(){return{isSmall:!1,sendValue:"",chatList:[],showChat:!1,isAdmin:!1,token:"",scrollTop:0,oldScrollTop:0,str:"<div>测试一下</div>",list_goods:[],list_slide:[],list_menu:[],list_notice:[]}},methods:{toToggle:function(){this.isAdmin=!this.isAdmin},dateFormat:function(t){var e=new Date,n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t},get_slides:function(){var t=this;this.$get(getApp().globalData.host+"/api/slides/get_list?",{},(function(e){e.result&&e.result.list&&(console.log("轮播图",e.result.list),t.list_slide=e.result.list,t.list_slide.map((function(t){t["praise_len"]})),t.get_praise(t.list_slides,"slides","slides_id"))}))},get_menu:function(){var t,e=this,n=this.$store.state.user.user_group;this.$get(getApp().globalData.host+"/api/auth/get_list?",(t={size:"0",get:"",user_group:n},r(t,"get",1),r(t,"position","top"),t),(function(t){t.result&&t.result.list&&(e.list_menu=t.result.list,e.list_menu.map((function(t){t["praise_len"]})),e.get_praise(e.list_auth,"auth","auth_id")),e.list_menu.push({mod_name:"农家果坊",path:"/goods/list"})}))},get_goods:function(){var t=this,e="/api/goods/get_list?",n={page:1,size:12};this.$get(getApp().globalData.host+e,n,(function(e){e.result&&e.result.list&&(console.log("商品",e.result.list),t.list_goods=e.result.list,t.list_goods.map((function(t){t["praise_len"]})),t.get_praise(t.list_goods,"goods","goods_id"))}))},get_notice:function(){var t=this;this.$get(getApp().globalData.host+"/api/notice/get_list?",{page:1,size:3},(function(e){e.result&&e.result.list&&(console.log("公告",e.result.list),t.list_notice=e.result.list,t.list_notice.map((function(t){t["praise_len"]})),t.get_praise(t.list_notice,"notice","notice_id"),console.log(t.list_notice))}))},get_praise:function(t,e,n){this.$get(getApp().globalData.host+"/api/praise/list_group?source_table="+e+"&groupby=source_id",{},(function(e){e.result&&e.result.list?e.result.list.map((function(e){for(var o=0;o<t.length;o++){var s=t[o];if(s[n]===e["source_id"]){s["praise_len"]=e["count"];break}}})):e.error&&console.error(e.error)}))}},onShow:function(){this.get_menu(),this.get_slides(),this.get_goods(),this.get_notice()}},m=h,f=(n("0e60"),n("f0c5")),b=Object(f["a"])(m,s,i,!1,null,"63056169",null,!1,o,c);e["a"]=b.exports}},[["d537","common/runtime","common/vendor"]]]);
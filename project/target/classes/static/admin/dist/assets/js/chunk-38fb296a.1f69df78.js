(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38fb296a"],{"3a87":function(t,e,s){"use strict";s("3ddb")},"3ddb":function(t,e,s){},"4c2d":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-main",{staticClass:"bg table_wrap comtabel_t"},[s("el-form",{staticClass:"form p_4",attrs:{"label-position":"right",model:t.query,"label-width":"120"}},[s("el-row",{staticClass:"rows row1"},[s("el-col",{staticClass:"el_form_search_wrap",attrs:{xs:24,sm:24,lg:8}},[s("el-form-item",{attrs:{label:"配送状态"}},[s("el-select",{model:{value:t.query.delivery_status,callback:function(e){t.$set(t.query,"delivery_status",e)},expression:"query.delivery_status"}},t._l(t.list_delivery_status,(function(t){return s("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)],1),s("el-col",{staticClass:"el_form_search_wrap",attrs:{xs:24,sm:24,lg:8}},[s("el-form-item",{attrs:{label:"签收状态"}},[s("el-select",{model:{value:t.query.signing_status,callback:function(e){t.$set(t.query,"signing_status",e)},expression:"query.signing_status"}},t._l(t.list_signing_status,(function(t){return s("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)],1)],1),s("el-row",{staticClass:"rows row2"},[s("el-col",{staticClass:"search_btn_wrap search_btns",attrs:{xs:24,sm:24,lg:24}},[s("el-col",{staticClass:"search_btn_1 search_btn_wrap_1 btns",attrs:{xs:24,sm:10,lg:8}},[s("el-button",{staticClass:"search_btn_find",attrs:{type:"primary"},on:{click:function(e){return t.search()}}},[t._v("查询")]),s("el-button",{staticClass:"search_btn_reset",staticStyle:{"margin-right":"74px"},on:{click:function(e){return t.reset()}}},[t._v("重置")]),"管理员"==t.user_group||t.$check_action("/logistics_delivery/view","del")?s("el-button",{staticClass:"search_btn_del",attrs:{type:"danger"},on:{click:function(e){return t.delInfo()}}},[t._v("删除")]):t._e()],1)],1)],1)],1),s("el-table",{key:t.renderTable,staticStyle:{width:"100%"},attrs:{data:t.list,id:"dataTable"},on:{"selection-change":t.selectionChange,"sort-change":t.$sortChange}},[s("el-table-column",{attrs:{fixed:"",type:"selection","tooltip-effect":"dark",width:"55"}}),s("el-table-column",{attrs:{prop:"order_number",label:"订单号","min-width":"200"},on:{"sort-change":t.$sortChange}}),s("el-table-column",{attrs:{prop:"product_name",label:"商品名称","min-width":"200"},on:{"sort-change":t.$sortChange}}),s("el-table-column",{attrs:{prop:"purchase_quantity",label:"购买数量","min-width":"200"},on:{"sort-change":t.$sortChange}}),s("el-table-column",{attrs:{prop:"total_transaction_amount",label:"交易总额","min-width":"200"},on:{"sort-change":t.$sortChange}}),s("el-table-column",{attrs:{prop:"the_date_of_issuance",label:"发货日期","min-width":"200"},on:{"sort-change":t.$sortChange},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$toTime(e.row["the_date_of_issuance"],"yyyy-MM-dd"))+" ")]}}])}),s("el-table-column",{attrs:{prop:"delivery_number",label:"配送单号","min-width":"200"},on:{"sort-change":t.$sortChange}}),s("el-table-column",{attrs:{prop:"contact_name",label:"联系人","min-width":"200"},on:{"sort-change":t.$sortChange}}),s("el-table-column",{attrs:{prop:"user_id",label:"买家",sortable:"","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",[t._v(" "+t._s(t.list_user.getVal("nickname",{user_id:e.row.ordinary_users}))+" ")])]}}])}),s("el-table-column",{attrs:{prop:"shipping_address",label:"收货地址","min-width":"200"},on:{"sort-change":t.$sortChange}}),s("el-table-column",{attrs:{prop:"delivery_status",label:"配送状态","min-width":"200"},on:{"sort-change":t.$sortChange}}),s("el-table-column",{attrs:{prop:"signing_status",label:"签收状态","min-width":"200"},on:{"sort-change":t.$sortChange}}),s("el-table-column",{attrs:{sortable:"",prop:"create_time",label:"创建时间","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$toTime(e.row["create_time"],"yyyy-MM-dd hh:mm:ss"))+" ")]}}])}),s("el-table-column",{attrs:{sortable:"",prop:"update_time",label:"更新时间","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$toTime(e.row["update_time"],"yyyy-MM-dd hh:mm:ss"))+" ")]}}])}),s("el-table-column",{attrs:{fixed:"right",label:"操作","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"view_a"},["管理员"==t.user_group||t.$check_action("/logistics_delivery/view","get")||t.$check_action("/logistics_delivery/view","set")?s("button",{staticClass:"e-button el-button--small is-plain el-button--success",staticStyle:{margin:"5px !important"},attrs:{size:"small"},on:{click:function(s){return t.goTo_("./view?"+t.field+"="+e.row[t.field])}}},[s("span",[t._v("详情")])]):t._e(),"待签收"!=e.row["signing_status"]||"管理员"!=t.user_group&&!t.$check_option("/logistics_delivery/table","sign_for")?t._e():s("button",{staticClass:"e-button el-button--small is-plain el-button--success",staticStyle:{margin:"5px !important"},attrs:{size:"small"},on:{click:function(s){return t.changeSigning("logistics_delivery_id="+e.row["logistics_delivery_id"],e.row["signing_status"],e.$index)}}},[t._v(" 签收 ")])])]}}])})],1),s("div",{staticClass:"mt text_center"},[s("el-pagination",{attrs:{"current-page":t.query.page,"page-sizes":[7,10,30,100],"page-size":t.query.size,layout:"total, sizes, prev, pager, next, jumper",total:t.count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},a=[],n=(s("a9e3"),s("d3b7"),s("25f0"),s("96cf"),s("1da1")),i=s("c6e7"),l={mixins:[i["a"]],data:function(){return{url_get_list:"~/api/logistics_delivery/get_list?like=0",url_del:"~/api/logistics_delivery/del?",field:"logistics_delivery_id",query:{size:7,page:1,delivery_status:"",signing_status:"",login_time:"",create_time:"",orderby:"create_time desc"},list:[],list_delivery_status:["待取货","配送中","已完成"],list_signing_status:["待签收","已签收"],list_user:[],renderTable:Number(Math.random().toString().substr(3,12)+Date.now()).toString(36)}},methods:{goTo_:function(t){this.$router.push(t)},get_list_before:function(t){var e=this.user.user_group;return"管理员"!=e&&(this.$check_option("/goods/table","seller")?t["merchant_id"]=this.user.user_id:t["ordinary_users"]=this.user.user_id),t},get_list_user:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$get("~/api/user/get_list?");case 2:s=e.sent,s.result?t.list_user=s.result.list:s.error&&console.error(s.error);case 4:case"end":return e.stop()}}),e)})))()},changeSigning:function(t,e,s){var r=this,a="~/api/logistics_delivery/set?"+t;this.list[s]["signing_status"]=e="待签收"==e?"已签收":"待签收",this.$post(a,{signing_status:e},(function(t,e){t.result?r.renderTable=Number(Math.random().toString().substr(3,12)+Date.now()).toString(36):t.error?r.$toast(t.error.message,"danger"):r.$toast("服务器连接失败！","danger")}))}},created:function(){this.get_list_user()}},o=l,c=(s("3a87"),s("2877")),u=Object(c["a"])(o,r,a,!1,null,null,null);e["default"]=u.exports}}]);